<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>InstaChecker v2.0 — Análise Inteligente do Instagram</title>
    <meta
      name="description"
      content="Ferramenta moderna para analisar seus seguidores do Instagram com insights inteligentes e interface renovada."
    />
    <meta name="theme-color" content="#1a1a2e" />
    <link rel="manifest" href="/instachecker/manifest.webmanifest" />
    <link
      rel="icon"
      type="image/svg+xml"
      href="/instachecker/assets/instachecker-icon.svg"
    />

    <!-- Bootstrap 5.3.3 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Font Awesome 6.5.1 -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Custom Styles -->
    <link rel="stylesheet" href="/instachecker/styles.css" />
  </head>
  <body class="bg-dark">
    <!-- Navigation Bar -->
    <nav class="navbar navbar-dark bg-gradient-primary fixed-top shadow-lg">
      <div class="container">
        <span class="navbar-brand d-flex align-items-center">
          <div class="logo-icon me-2">
            <i class="fa-brands fa-instagram"></i>
          </div>
          InstaChecker
          <span class="badge bg-warning text-dark ms-2">v2.0</span>
        </span>
        <div class="d-flex align-items-center">
          <button
            class="btn btn-outline-light btn-sm me-2"
            data-bs-toggle="modal"
            data-bs-target="#helpModal"
          >
            <i class="fa-solid fa-question-circle me-1"></i> Ajuda
          </button>
          <div class="theme-toggle">
            <button
              class="btn btn-outline-light btn-sm"
              id="theme-toggle"
              title="Alternar tema"
            >
              <i class="fa-solid fa-moon"></i>
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
      <div class="container">
        <div class="row align-items-center min-vh-100">
          <div class="col-lg-6">
            <div class="hero-content">
              <div class="hero-badge mb-3">
                <span class="badge bg-gradient-warning text-dark px-3 py-2">
                  <i class="fa-solid fa-sparkles me-1"></i>
                  Nova versão 2.0
                </span>
              </div>
              <h1 class="hero-title">
                Análise Inteligente do
                <span class="text-gradient">Instagram</span>
              </h1>
              <p class="hero-subtitle">
                Descubra insights sobre seus seguidores com nossa ferramenta
                renovada. Interface moderna, análise mais rápida e 100% privado.
              </p>
              <div class="hero-features mb-4">
                <div class="feature-item">
                  <i class="fa-solid fa-shield-check text-success"></i>
                  <span>Totalmente privado</span>
                </div>
                <div class="feature-item">
                  <i class="fa-solid fa-bolt text-warning"></i>
                  <span>Super rápido</span>
                </div>
                <div class="feature-item">
                  <i class="fa-solid fa-chart-line text-info"></i>
                  <span>Insights inteligentes</span>
                </div>
              </div>
              <div class="hero-actions">
                <button
                  class="btn btn-primary btn-lg me-3"
                  onclick="scrollToUpload()"
                >
                  <i class="fa-solid fa-upload me-2"></i>
                  Começar Análise
                </button>
                <button
                  class="btn btn-outline-light btn-lg"
                  data-bs-toggle="modal"
                  data-bs-target="#demoModal"
                >
                  <i class="fa-solid fa-play me-2"></i>
                  Ver Demo
                </button>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="hero-visual">
              <div class="floating-cards">
                <div class="stat-card">
                  <div class="stat-icon">
                    <i class="fa-solid fa-users"></i>
                  </div>
                  <div class="stat-info">
                    <h3>1.2K</h3>
                    <p>Seguidores</p>
                  </div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon">
                    <i class="fa-solid fa-user-plus"></i>
                  </div>
                  <div class="stat-info">
                    <h3>987</h3>
                    <p>Seguindo</p>
                  </div>
                </div>
                <div class="stat-card">
                  <div class="stat-icon">
                    <i class="fa-solid fa-heart"></i>
                  </div>
                  <div class="stat-info">
                    <h3>756</h3>
                    <p>Mútuos</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Upload Section -->
    <section class="upload-section" id="upload-section">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-8">
            <div class="upload-card">
              <div class="upload-header text-center mb-4">
                <h2 class="section-title">
                  <i class="fa-solid fa-cloud-arrow-up text-primary me-2"></i>
                  Importar Dados do Instagram
                </h2>
                <p class="text-muted">
                  Arraste seus arquivos ou clique para selecionar
                </p>
              </div>

              <!-- Upload Area -->
              <div class="upload-area" id="uploader">
                <div class="upload-content">
                  <div class="upload-icon">
                    <i class="fa-solid fa-file-zipper"></i>
                  </div>
                  <h3>Arraste o ZIP aqui</h3>
                  <p class="text-muted">ou</p>
                  <button class="btn btn-primary btn-lg" id="pick-btn">
                    <i class="fa-solid fa-folder-open me-2"></i>
                    Escolher Arquivos
                  </button>
                  <input
                    type="file"
                    id="instagram-files"
                    multiple
                    accept=".zip,.json"
                    style="display: none"
                  />

                  <div class="upload-info mt-3">
                    <small class="text-muted">
                      <i class="fa-solid fa-info-circle me-1"></i>
                      Aceita ZIP do Instagram ou arquivos JSON individuais
                    </small>
                  </div>
                </div>

                <!-- Upload Status -->
                <div class="upload-status" id="upload-status">
                  <i class="fa-solid fa-upload text-muted"></i>
                  <span class="ms-2"
                    >Escolha os arquivos do Instagram ou arraste aqui para
                    começar.</span
                  >
                </div>
              </div>

              <!-- Error Alert -->
              <div
                class="alert alert-danger d-none mt-3"
                id="error-alert"
                role="alert"
              >
                <i class="fa-solid fa-exclamation-triangle me-2"></i>
                <span></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Results Section -->
    <section class="results-section d-none" id="results-section">
      <div class="container">
        <!-- Summary Dashboard -->
        <div class="dashboard-header mb-4">
          <h2 class="section-title text-center mb-4">
            <i class="fa-solid fa-chart-pie text-primary me-2"></i>
            Dashboard de Análise
          </h2>

          <!-- Stats Cards -->
          <div class="row g-3 mb-4">
            <div class="col-sm-6 col-lg-3">
              <div class="stats-card">
                <div class="stats-icon bg-primary">
                  <i class="fa-solid fa-users"></i>
                </div>
                <div class="stats-content">
                  <h3 id="total-followers">0</h3>
                  <p>Seguidores</p>
                </div>
              </div>
            </div>
            <div class="col-sm-6 col-lg-3">
              <div class="stats-card">
                <div class="stats-icon bg-success">
                  <i class="fa-solid fa-user-plus"></i>
                </div>
                <div class="stats-content">
                  <h3 id="total-following">0</h3>
                  <p>Seguindo</p>
                </div>
              </div>
            </div>
            <div class="col-sm-6 col-lg-3">
              <div class="stats-card">
                <div class="stats-icon bg-info">
                  <i class="fa-solid fa-heart"></i>
                </div>
                <div class="stats-content">
                  <h3 id="total-mutuals">0</h3>
                  <p>Mútuos</p>
                </div>
              </div>
            </div>
            <div class="col-sm-6 col-lg-3">
              <div class="stats-card">
                <div class="stats-icon bg-warning">
                  <i class="fa-solid fa-balance-scale"></i>
                </div>
                <div class="stats-content">
                  <h3 id="net-balance">0</h3>
                  <p>Balanço</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Engagement Progress -->
          <div class="engagement-card mb-4">
            <div class="row align-items-center">
              <div class="col-md-8">
                <h4 class="mb-2">Taxa de Engajamento Mútuo</h4>
                <div class="progress progress-lg">
                  <div
                    class="progress-bar bg-gradient-success"
                    id="mutual-progress"
                    role="progressbar"
                    style="width: 0%"
                    aria-valuenow="0"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  >
                    0%
                  </div>
                </div>
                <p class="text-muted mt-2" id="insight-text">
                  Faça upload para ver as sugestões.
                </p>
              </div>
              <div class="col-md-4 text-center">
                <div class="engagement-score">
                  <span class="score-number" id="summary-follow-back">0</span>
                  <span class="score-label">não seguem de volta</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Controls Bar -->
        <div class="controls-bar mb-4">
          <div class="row align-items-center g-3">
            <div class="col-md-6">
              <div class="search-box">
                <i class="fa-solid fa-search"></i>
                <input
                  type="text"
                  class="form-control"
                  id="search-input"
                  placeholder="Buscar por username..."
                />
              </div>
            </div>
            <div class="col-md-3">
              <select class="form-select" id="sort-select">
                <option value="asc">A-Z</option>
                <option value="desc">Z-A</option>
                <option value="len">Menor nome</option>
                <option value="len-desc">Maior nome</option>
              </select>
            </div>
            <div class="col-md-3">
              <button
                class="btn btn-outline-danger btn-sm w-100"
                id="clear-btn"
              >
                <i class="fa-solid fa-trash me-1"></i>
                Limpar Dados
              </button>
            </div>
          </div>

          <!-- Filter Feedback -->
          <div
            class="alert alert-info mt-3 d-none"
            id="filter-feedback"
            role="alert"
          >
            <i class="fa-solid fa-filter me-2"></i>
            <span></span>
          </div>
        </div>

        <!-- Tabs Navigation -->
        <div class="tabs-container mb-4">
          <ul class="nav nav-pills nav-fill" role="tablist">
            <li class="nav-item">
              <button
                class="nav-link active"
                data-bs-toggle="tab"
                data-bs-target="#not-following-back-tab"
                data-view="notFollowingBack"
                type="button"
                role="tab"
              >
                <i class="fa-solid fa-user-xmark me-2"></i>
                Não seguem você
                <span
                  class="badge bg-light text-dark ms-2"
                  id="not-following-back-tab-count"
                  >0</span
                >
              </button>
            </li>
            <li class="nav-item">
              <button
                class="nav-link"
                data-bs-toggle="tab"
                data-bs-target="#not-followed-back-tab"
                data-view="notFollowedBack"
                type="button"
                role="tab"
              >
                <i class="fa-solid fa-user-plus me-2"></i>
                Você não segue
                <span
                  class="badge bg-light text-dark ms-2"
                  id="not-followed-back-tab-count"
                  >0</span
                >
              </button>
            </li>
            <li class="nav-item">
              <button
                class="nav-link"
                data-bs-toggle="tab"
                data-bs-target="#mutuals-tab"
                data-view="mutuals"
                type="button"
                role="tab"
              >
                <i class="fa-solid fa-handshake me-2"></i>
                Mútuos
                <span
                  class="badge bg-light text-dark ms-2"
                  id="mutuals-tab-count"
                  >0</span
                >
              </button>
            </li>
          </ul>
        </div>

        <!-- Tab Content -->
        <div class="tab-content">
          <div
            class="tab-pane fade show active"
            id="not-following-back-tab"
            role="tabpanel"
          >
            <div class="results-card">
              <div class="results-header">
                <h4>
                  <i class="fa-solid fa-user-xmark text-danger me-2"></i>
                  Não te seguem de volta
                  <span
                    class="badge bg-danger ms-2"
                    id="not-following-back-count"
                    >0</span
                  >
                </h4>
                <div class="results-actions">
                  <button
                    class="btn btn-outline-primary btn-sm"
                    data-copy="notFollowingBack"
                  >
                    <i class="fa-solid fa-copy me-1"></i> Copiar
                  </button>
                  <button
                    class="btn btn-outline-success btn-sm"
                    id="export-not-following-back"
                  >
                    <i class="fa-solid fa-download me-1"></i> CSV
                  </button>
                </div>
              </div>
              <div class="results-list" id="not-following-back-list"></div>
            </div>
          </div>

          <div class="tab-pane fade" id="not-followed-back-tab" role="tabpanel">
            <div class="results-card">
              <div class="results-header">
                <h4>
                  <i class="fa-solid fa-user-plus text-warning me-2"></i>
                  Você não segue de volta
                  <span
                    class="badge bg-warning text-dark ms-2"
                    id="not-followed-back-count"
                    >0</span
                  >
                </h4>
                <div class="results-actions">
                  <button
                    class="btn btn-outline-primary btn-sm"
                    data-copy="notFollowedBack"
                  >
                    <i class="fa-solid fa-copy me-1"></i> Copiar
                  </button>
                  <button
                    class="btn btn-outline-success btn-sm"
                    id="export-not-followed-back"
                  >
                    <i class="fa-solid fa-download me-1"></i> CSV
                  </button>
                </div>
              </div>
              <div class="results-list" id="not-followed-back-list"></div>
            </div>
          </div>

          <div class="tab-pane fade" id="mutuals-tab" role="tabpanel">
            <div class="results-card">
              <div class="results-header">
                <h4>
                  <i class="fa-solid fa-handshake text-success me-2"></i>
                  Seguidores mútuos
                  <span class="badge bg-success ms-2" id="mutuals-count"
                    >0</span
                  >
                </h4>
                <div class="results-actions">
                  <button
                    class="btn btn-outline-primary btn-sm"
                    data-copy="mutuals"
                  >
                    <i class="fa-solid fa-copy me-1"></i> Copiar
                  </button>
                  <button
                    class="btn btn-outline-success btn-sm"
                    id="export-mutuals"
                  >
                    <i class="fa-solid fa-download me-1"></i> CSV
                  </button>
                </div>
              </div>
              <div class="results-list" id="mutuals-list"></div>
            </div>
          </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions mt-4">
          <div class="row g-3">
            <div class="col-md-6">
              <button class="btn btn-primary w-100" id="copy-current">
                <i class="fa-solid fa-copy me-2"></i>
                Copiar Lista Atual
              </button>
            </div>
            <div class="col-md-6">
              <button
                class="btn btn-outline-secondary w-100"
                onclick="scrollToUpload()"
              >
                <i class="fa-solid fa-redo me-2"></i>
                Nova Análise
              </button>
            </div>
          </div>
        </div>

        <!-- Result Notice -->
        <div
          class="alert alert-success d-none mt-4"
          id="result-notice"
          role="alert"
        >
          <i class="fa-solid fa-check-circle me-2"></i>
          <span></span>
        </div>
      </div>
    </section>

    <!-- Help Modal -->
    <div class="modal fade" id="helpModal" tabindex="-1">
      <div class="modal-dialog modal-lg">
        <div class="modal-content bg-dark border-secondary">
          <div class="modal-header border-secondary">
            <h5 class="modal-title text-white">
              <i class="fa-solid fa-question-circle text-info me-2"></i>
              Como usar o InstaChecker
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body text-white">
            <div class="help-steps">
              <div class="help-step">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h6>Baixar dados do Instagram</h6>
                  <p>
                    Acesse Instagram → Configurações → Privacidade → Baixar
                    dados. Solicite o download em formato JSON.
                  </p>
                </div>
              </div>
              <div class="help-step">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h6>Receber o arquivo</h6>
                  <p>
                    O Instagram enviará um link por email. Baixe o arquivo ZIP
                    com seus dados.
                  </p>
                </div>
              </div>
              <div class="help-step">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h6>Fazer upload</h6>
                  <p>
                    Arraste o arquivo ZIP para a área de upload ou clique em
                    "Escolher Arquivos".
                  </p>
                </div>
              </div>
              <div class="help-step">
                <div class="step-number">4</div>
                <div class="step-content">
                  <h6>Analisar resultados</h6>
                  <p>
                    Explore as abas para ver quem não segue você, quem você não
                    segue e seguidores mútuos.
                  </p>
                </div>
              </div>
            </div>

            <div class="alert alert-info mt-4">
              <i class="fa-solid fa-shield-check me-2"></i>
              <strong>100% Privado:</strong> Todos os dados são processados
              localmente no seu navegador. Nada é enviado para servidores
              externos.
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Demo Modal -->
    <div class="modal fade" id="demoModal" tabindex="-1">
      <div class="modal-dialog modal-xl">
        <div class="modal-content bg-dark border-secondary">
          <div class="modal-header border-secondary">
            <h5 class="modal-title text-white">
              <i class="fa-solid fa-play-circle text-primary me-2"></i>
              Demo do InstaChecker v2.0
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body text-center">
            <div class="demo-placeholder">
              <i class="fa-solid fa-video fa-3x text-muted mb-3"></i>
              <h6 class="text-muted">Demo em vídeo será adicionado em breve</h6>
              <p class="text-muted">
                Por enquanto, experimente fazendo upload dos seus dados!
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer-section">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-6">
            <div class="footer-brand">
              <strong>InstaChecker v2.0</strong>
              <span class="text-muted ms-2"
                >— Análise inteligente do Instagram</span
              >
            </div>
          </div>
          <div class="col-md-6 text-md-end">
            <div class="footer-links">
              <small class="text-muted">
                <i class="fa-solid fa-shield-halved me-1"></i>
                Totalmente privado e seguro
              </small>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- New Modular App -->
    <script type="module" src="/instachecker/app-new.js"></script>

    <!-- V2.0 Enhancements -->
    <script src="/instachecker/app-v2-enhancements.js"></script>

    <!-- Fallback -->
    <script>
      window.loadLegacyApp = function () {
        const script = document.createElement("script");
        script.src = "/instachecker/app.js";
        document.head.appendChild(script);
      };

      // Service Worker
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("/instachecker/sw.js", { scope: "/instachecker/" })
            .catch(() => {});
        });
      }
    </script>
  </body>
</html>
